Title: Hosting a Site on Amazon S3
Date: 2014-11-22 23:00
Category: sornars.com
Tags: aws, s3, hosting, pelican

This will be another short post as hosting a site on [Amazon Simple Storage Service (S3)](http://aws.amazon.com/s3/) is an incredible easy process.

Signing up for [Amazon Web Services](http://aws.amazon.com/) is great as they offer a very generous free tier for trying out their services. One thing Amazon recommends is setting up a specific user with specific roles rather than doing everything through your master account. The regional servers are identical; however, you should choose a server location that best suits your users and requirements.

The initial AWS console is definitely a bit overwhelming for newcomers but luckily for us, the only tool we have to focus on for setting up a static site is S3, currently listed under the 'Storage and Content Delivery' category. The first thing to understand about working with S3 is the concept of buckets. A bucket is essentially a namespace in which users can store a bunch of files. These namespaces are shared globally across the entire S3 infrastructure and following this, bucket names must be unique across the entire platform. This ties in nicely to hosting a site as you can (and should) simply name your bucket the name of your domain. For example, the bucket for this blog is titled 'www.sornars.com'.

Once you have your bucket you can start to put files inside after which they will be available on the Internet. To make your bucket operate as a proper site there is one last thing to do. Under the properties of the bucket there is a group titled 'Static Website Hosting', under which there is an option titled 'Enable Website Hosting'. This option must be enabled and a default root file must be specified. By convention this will be index.html. The endpoint URL will also be listed here.

Once you've set up Pelican (check out my [earlier post](http://www.sornars.com/setting-up-pelican.html) for more details), you should also do the necessary work to set up [s3cmd](http://s3tools.org/s3cmd). Reading the documentation [here](http://s3tools.org/s3cmd-howto) helped me configure s3cmd. Essentially it boils down to running the command:

    :::bash
    s3cmd --configure

which will prompt you for your AWS keys and enable you to access your S3 buckets via the command line. If s3cmd is availble in your path than the makefile included with Pelican should allow you to run

    :::bash
    make s3_upload

without any issues. This will generate the Pelican site from your templates and upload them to the specified bucket. To test locally you should run

    :::bash
    make html

which will put the generated output into the local output directory.

And with that you're 99% of the way to running your own site - this S3 hosted should be perfectly usable at this stage but in my next post I'll be covering how to purchase and set up a custom domain to beautify those URLs and really make your site unique.
